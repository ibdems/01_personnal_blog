{% extends "base.html" %}

{% block title %}Mon Profile{% endblock %}
{% block title2 %}Mon Profile{% endblock %}

{% block content %}
<div class="container mt-5">
    {% if messages %}
                <div class="alert alert-success" role="alert">
                    {% for message in messages %}
                        {{ message }}
                    {% endfor %}
                </div>
            {% endif %}
    <div class="row">
        <div class="col-md-4">
            <!-- Photo de profil en grand format -->
            <div class="card text-center">
                <div class="row justify-content-center">
                    <div class="col mt-2">
                        {% if profile.photo %}
                        <img src="{{ profile.photo.url }}" class="img-fluid rounded mb-3" alt="Photo de profil"
                            style="width: 250px; height: 250px; object-fit: cover;">
                        {% else %}
                        <img src="https://via.placeholder.com/250x250" class="img-fluid rounded mb-3"
                            alt="Photo de profil par défaut" style="width: 250px; height: 250px; object-fit: cover;">
                        {% endif %}
                    </div>
                </div>


                <h2 class="card-title">{{ profile.user.first_name }} {{profile.user.last_name}}</h2>
                <p class="card-text text-muted">{{ profile.role }}</p>
                <a href="{% url 'update_profile' %}" class="btn btn-outline-primary">Modifier le profil</a>
            </div> 
        </div>

        <div class="col-md-8">
            <div class="card p-4">
                <h3 class="mb-4">Informations personnelles</h3>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><strong>Nom d'utilisateur:</strong> {{ profile.user.username }}</li>
                    <li class="list-group-item"><strong>Adresse email:</strong> {{ profile.user.email }}</li>
                    <li class="list-group-item"><strong>Bio:</strong> {{ profile.bio }}</li>
                    <li class="list-group-item"><strong>Téléphone:</strong> {{ profile.tel }}</li>
                    <li class="list-group-item"><strong>Adresse:</strong> {{ profile.adresse }}</li>
                </ul>

                <h4 class="mt-5">Liens sociaux</h4>
                <ul class="list-group list-group-flush">
                    {% if profile.link_facebook %}
                    <li class="list-group-item"><strong>Facebook:</strong> <a href="{{ profile.link_facebook }}"
                            target="_blank">{{ profile.link_facebook }}</a></li>
                    {% endif %}
                    {% if profile.link_instagram %}
                    <li class="list-group-item"><strong>Instagram:</strong> <a href="{{ profile.link_instagram }}"
                            target="_blank">{{ profile.link_instagram }}</a></li>
                    {% endif %}
                    {% if profile.link_linkedin %}
                    <li class="list-group-item"><strong>LinkedIn:</strong> <a href="{{ profile.link_linkedin }}"
                            target="_blank">{{ profile.link_linkedin }}</a></li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}